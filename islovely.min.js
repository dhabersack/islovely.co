/*! islovely 1.2.0 */
(function(){"use strict";var a,b,c=this;window.Portfolio=Ember.Application.create(),Ember.Location.registerImplementation("hashbang",Ember.HashLocation.extend({getURL:function(){return Ember.get(this,"location").hash.substr(2)},setURL:function(a){Ember.get(this,"location").hash="!"+a,Ember.set(this,"lastSetURL","!"+a)},onUpdateURL:function(a){var b;return b=Ember.guidFor(c),Ember.$(window).bind("hashchange.ember-location-{ guid }",function(){return Ember.run(function(){var b;return b=location.hash.substr(2),Ember.get(c,"lastSetURL")!==b?(Ember.set(c,"lastSetURL",null),a(location.hash.substr(2))):void 0})})},formatURL:function(a){return"#!"+a}})),App.Router.map(function(){return this.resource("page",{path:"/pages/:page_slug"}),this.resource("pages"),this.resource("post",{path:"/posts/:post_slug"}),this.resource("posts")}),App.Router.reopen(a=void 0,{didTransition:function(b){var c=this;return this._super(b),window.ga?Ember.run.next(function(){var b;return window.scrollTo(0,0),b=c.get("url"),b!==a?(a=b,ga("send","pageview",b)):void 0}):void 0},location:"hashbang"}),App.Route=Ember.Route.extend({renderTemplate:function(a,b){var c;this.render(),this.title&&(c=this.title(b)),document.title=c?""+c+" | islovely":"islovely",this.description&&$("meta[name=description]").attr("content",this.description(b))}}),App.IndexRoute=App.Route.extend({description:function(a){return a.get("description")},model:function(){return this.store.find("page","index")},title:function(a){return a.get("title")}}),App.PageRoute=App.Route.extend({description:function(a){return a.get("description")},model:function(a){return this.store.find("page",a.page_slug)},serialize:function(a){return{page_slug:a.get("slug")}},title:function(a){return a.get("title")}}),App.PagesRoute=App.Route.extend({description:function(){return"Find more information about me and the services I offer."},model:function(){return this.store.find("page")},title:function(){return"Pages"}}),App.PostRoute=App.Route.extend({description:function(a){return a.get("description")},model:function(a){return this.store.find("post",a.post_slug)},serialize:function(a){return{post_slug:a.get("slug")}},title:function(a){return a.get("title")}}),App.PostsRoute=App.Route.extend({description:function(){return"Articles on technology, development, consulting, and teaching."},model:function(){return this.store.find("post")},title:function(){return"Posts"}}),App.ApplicationAdapter=DS.RESTAdapter.extend({host:"http://api.islovely.co"}),App.PostsController=Ember.ArrayController.extend({sortProperties:["id"],sortAscending:!1,sortFunction:function(a,b){return a===b?0:parseInt(a,10)<parseInt(b,10)?-1:1}}),App.Page=DS.Model.extend({body:DS.attr("string"),description:DS.attr("string"),slug:DS.attr("string"),title:DS.attr("string")}),App.Post=DS.Model.extend({body:DS.attr("string"),description:DS.attr("string"),published:DS.attr("date"),slug:DS.attr("string"),title:DS.attr("string")}),b=new Showdown.converter,Ember.Handlebars.registerBoundHelper("markdown",function(a){return new Ember.Handlebars.SafeString(b.makeHtml(a))}),Ember.Handlebars.registerBoundHelper("date",function(a){return new Ember.Handlebars.SafeString(moment(a).format("MMMM Do, YYYY"))})}).call(this);