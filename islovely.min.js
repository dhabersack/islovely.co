/*! islovely 1.2.0 */
(function(){"use strict";var a;window.Portfolio=Ember.Application.create(),Ember.Location.registerImplementation("hashbang",Ember.HashLocation.extend({getURL:function(){return Ember.get(this,"location").hash.substr(2)},setURL:function(a){return Ember.get(this,"location").hash="!"+a,Ember.set(this,"lastSetURL","!"+a)},onUpdateURL:function(a){var b;return b=Ember.guidFor(this),Ember.$(window).bind("hashchange.ember-location-{ guid }",function(){return Ember.run(function(){var b;return b=location.hash.substr(2),Ember.get(this,"lastSetURL")!==b?(Ember.set(this,"lastSetURL",null),a(location.hash.substr(2))):void 0})})},formatURL:function(a){return"#!"+a}})),Portfolio.Router.map(function(){return this.resource("client",{path:"/clients/:client_slug"}),this.resource("clients"),this.resource("page",{path:"/pages/:page_slug"}),this.resource("pages"),this.resource("post",{path:"/posts/:post_slug"}),this.resource("posts")}),Portfolio.Router.reopen({location:"hashbang"}),Portfolio.Route=Ember.Route.extend({renderTemplate:function(a,b){var c;this.render(),this.title&&(c=this.title(b)),document.title=c?""+c+" | islovely":"islovely",this.description&&$("meta[name=description]").attr("content",this.description(b))}}),Portfolio.ClientRoute=Portfolio.Route.extend({description:function(a){return a.get("description")},model:function(a){return this.store.find("client",a.client_slug)},serialize:function(a){return{client_slug:a.get("slug")}},title:function(a){return a.get("title")}}),Portfolio.ClientsRoute=Portfolio.Route.extend({description:function(){return"A selection of client projects I have worked on."},model:function(){return this.store.find("client")},title:function(){return"Clients"}}),Portfolio.IndexRoute=Portfolio.Route.extend({description:function(a){return a.get("description")},model:function(){return this.store.find("page","index")}}),Portfolio.PageRoute=Portfolio.Route.extend({description:function(a){return a.get("description")},model:function(a){return this.store.find("page",a.page_slug)},serialize:function(a){return{page_slug:a.get("slug")}},title:function(a){return a.get("title")}}),Portfolio.PagesRoute=Portfolio.Route.extend({description:function(){return"Find more information about me and the services I offer."},model:function(){return this.store.find("page")},title:function(){return"Pages"}}),Portfolio.PostRoute=Portfolio.Route.extend({description:function(a){return a.get("description")},model:function(a){return this.store.find("post",a.post_slug)},serialize:function(a){return{post_slug:a.get("slug")}},title:function(a){return a.get("title")}}),Portfolio.PostsRoute=Portfolio.Route.extend({description:function(){return"Articles on technology, development, consulting, and teaching."},model:function(){return this.store.find("post")},title:function(){return"Posts"}}),Portfolio.ApplicationAdapter=DS.RESTAdapter.extend({host:"http://api.islovely.co"}),Portfolio.ClientsController=Ember.ArrayController.extend({sortProperties:["id"],sortAscending:!1,sortFunction:function(a,b){return a===b?0:parseInt(a,10)<parseInt(b,10)?-1:1}}),Portfolio.PostsController=Ember.ArrayController.extend({sortProperties:["id"],sortAscending:!1,sortFunction:function(a,b){return a===b?0:parseInt(a,10)<parseInt(b,10)?-1:1}}),Portfolio.Client=DS.Model.extend({body:DS.attr("string"),description:DS.attr("string"),slug:DS.attr("string"),title:DS.attr("string"),url:DS.attr("string")}),Portfolio.Page=DS.Model.extend({body:DS.attr("string"),description:DS.attr("string"),slug:DS.attr("string"),title:DS.attr("string")}),Portfolio.Post=DS.Model.extend({body:DS.attr("string"),description:DS.attr("string"),published:DS.attr("date"),slug:DS.attr("string"),title:DS.attr("string")}),a=new Showdown.converter,Ember.Handlebars.registerBoundHelper("markdown",function(b){return new Ember.Handlebars.SafeString(a.makeHtml(b))}),Ember.Handlebars.registerBoundHelper("date",function(a){return new Ember.Handlebars.SafeString(moment(a).format("MMMM Do, YYYY"))})}).call(this);